{"version":3,"sources":["service/opschemas.js","service/operation.js","service/sign.js","components/SignErrorsView.jsx","components/SignFormComponents.jsx","components/SignForm.jsx","components/OperationDetails.jsx","components/TransactionView.jsx","components/ErrorsView.jsx","components/App.js","serviceWorker.js","index.js"],"names":["opschemas","$id","type","minItems","items","$ref","pattern","minimum","maximum","maxLength","enum","ROLES_PRIORITY","owner","active","posting","memo","sort_roles","roles","sort","a","b","validate","Ajv","schemas","GolosSchema","verbose","getSchema","Transaction","json","Object","classCallCheck","this","errors","raw_transaction","toConsumableArray","ops","readOps","createClass","key","value","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","opTuple","push","Operation","err","return","get","length","temp","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","op","role","name","body","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","operations","operation","golos","require","SIGN_TYPE","PASSWORD","WIF","WEBSOCKET","DEFAULT_WS","NODES","_NODES","defineProperty","getCurrentSelectedNode","localStorage","getItem","setupNode","ws","api","stop","config","set","_callee","transaction","sign_type","account","password","required_wif","wif","tx","prepared_tx","signed_tx","ret","regenerator_default","wrap","_context","prev","getWif","extensions","broadcast","_prepareTransaction","sent","auth","signTransaction","broadcastTransactionSynchronousAsync","abrupt","getPrivateKeys","_callee2","_ref","_ref2","_context2","getAccountsAsync","slicedToArray","signandsend","ERROR_DESC","Expected version","3020100","2020000","3080000","2030000","1020400","4020100","3010000","getDesc","msg","match","SignErrorsView","_Component","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","error","props","console","log","react_default","createElement","message","arr","split","i","className","desc","result","block_num","id","redirect","isError","alert","extractErrorMessage","extractUsefulInfos","Component","NodeSelector","current_ws","for","onChange","v","setItem","setCurrentSelectedNode","target","keys","map","selected","WifInput","wif_class","wif_error","ev","aria-describedby","required","SignButton","onClick","onSign","FormWif","form_class","SignFormComponents_NodeSelector","htmlFor","SignFormComponents_WifInput","assign","translate_role","SignFormComponents_SignButton","FormAccountAndPasswort","account_error","account_class","placeholder","FormSelector","SignFormComponents_FormWif","SignFormComponents_FormAccountAndPasswort","SignForm","_this","call","state","user","sending","_this2","then","onSuccess","catch","setState","_this3","setTimeout","window","location","_this4","_x5","_checkAccount","checkAccount","send","_this$setState","_this5","_this$props","nowif","TabButton","label","react_responsive_default","minWidth","maxWidth","components_SignErrorsView","SignFormComponents_FormSelector","is_pass","icon","fa","title","OP_TRANSLATIONS","vote","comment","transfer","transfer_to_vesting","withdraw_vesting","limit_order_create","limit_order_cancel","feed_publish","convert","account_create","account_update","witness_update","account_witness_vote","account_witness_proxy","pow","custom","report_over_production","delete_comment","custom_json","comment_options","set_withdraw_vesting_route","limit_order_create2","challenge_authority","prove_authority","request_account_recovery","recover_account","change_recovery_account","escrow_transfer","escrow_dispute","escrow_release","pow2","escrow_approve","transfer_to_savings","transfer_from_savings","cancel_transfer_from_savings","custom_binary","decline_voting_rights","reset_account","set_reset_account","delegate_vesting_shares","account_create_with_delegation","account_metadata","proposal_create","proposal_update","proposal_delete","chain_properties_update","break_free_referral","delegate_vesting_shares_with_interest","reject_vesting_shares_delegation","TransactionView","status","components_SignForm","getOpName","from","to","amount","substring","JSON","stringify","getOpDetails","ErrorsView","e","keyword","dataPath","schemaPath","ErrorMessage","App","params","queryString","parse","search","subtitle","includes","sanatizer","sanitizeUrl","tr","content","components_TransactionView","App_ErrorMessage","components_ErrorsView","rel","href","Boolean","hostname","ReactDOM","render","src_components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ad6e0916.chunk.js","sourcesContent":["/*\n* Схемы операций для валидирования.\n*/\n\n/**\n * Взято из исходников голоса\n */\nconst known_operations = [\n    \"vote\",\n    \"comment\",\n\n    \"transfer\",\n    \"transfer_to_vesting\",\n    \"withdraw_vesting\",\n\n    \"limit_order_create\",\n    \"limit_order_cancel\",\n\n    \"feed_publish\",\n    \"convert\",\n\n    \"account_create\",\n    \"account_update\",\n\n    \"witness_update\",\n    \"account_witness_vote\",\n    \"account_witness_proxy\",\n\n    \"pow\",\n\n    \"custom\",\n\n    \"report_over_production\",\n\n    \"delete_comment\",\n    \"custom_json\",\n    \"comment_options\",\n    \"set_withdraw_vesting_route\",\n    \"limit_order_create2\",\n    \"challenge_authority\",\n    \"prove_authority\",\n    \"request_account_recovery\",\n    \"recover_account\",\n    \"change_recovery_account\",\n    \"escrow_transfer\",\n    \"escrow_dispute\",\n    \"escrow_release\",\n    \"pow2\",\n    \"escrow_approve\",\n    \"transfer_to_savings\",\n    \"transfer_from_savings\",\n    \"cancel_transfer_from_savings\",\n    \"custom_binary\",\n    \"decline_voting_rights\",\n    \"reset_account\",\n    \"set_reset_account\",\n    \"delegate_vesting_shares\",\n    \"account_create_with_delegation\",\n    \"account_metadata\",\n    \"proposal_create\",\n    \"proposal_update\",\n    \"proposal_delete\",\n    \"chain_properties_update\",\n    \"break_free_referral\",\n    \"delegate_vesting_shares_with_interest\",\n    \"reject_vesting_shares_delegation\",    \n]\n\n\n/**\n * Схема параметра transaction. Ожидается массив (Array) операций\n */\nconst transaction = {\n    \"$id\" : \"/golos/transaction\",\n    type: \"array\",\n    minItems: 1,\n    items: [ \n        {\"$ref\": \"/golos/operation\"}\n    ]\n}\n\n/**\n * Операция \n */\nconst operation = {\n    \"$id\" : \"/golos/operation\",\n    type: \"array\",\n    minItems: 2, maxLength: 2,\n    items: [\n        {type: \"string\", enum: known_operations},\n        {type: \"object\"}\n    ]\n}\n\n\nconst account = {\n    \"$id\" : \"/golos/account\",\n    type: \"string\",\n    pattern: \"^[a-z][-\\\\.a-z\\\\d]{2,15}[a-z\\\\d]$\"\n}\n\nconst permlink = {\n    \"$id\" : \"/golos/permlink\",\n    type: \"string\",\n    pattern: \"^.{1,256}$\"\n}\n\nconst public_key = {\n    \"$id\" : \"/golos/public_key\",\n    type: \"string\",\n    pattern: \"^GLS[0-9a-zA-Z]{50}$\"\n}\n\nconst percent = {\n    \"$id\" : \"/golos/percent\",\n    type: \"integer\",\n    minimum: 0, \n    maximum: 10000\n}\n\nconst asset = {\n    \"$id\" : \"/golos/asset\",\n    type: \"string\",\n    pattern: \"^[0-9]+\\\\.[0-9]{3} (GOLOS|GBG)$\"\n}\n\nexport default [\n    //базовые типы\n    transaction,\n    account,\n    asset,\n    permlink,\n    public_key,\n    percent, \n\n    operation,\n]\n\n","/*\n* Вспомогательные классы для валидирования входных данных (операций) и для отображения.\n*/\nimport Ajv from \"ajv\";\nimport GolosSchema from \"./opschemas\";\n\nimport operations from \"golos-js/lib/broadcast/operations\";\n\nconst ROLES_PRIORITY = {\n    \"owner\" : 0,\n    \"active\" : 1,\n    \"posting\" : 2,\n    \"memo\" : 3\n}\n\nfunction sort_roles(roles) {\n    return roles.sort((a,b) => {\n        return ROLES_PRIORITY[b] - ROLES_PRIORITY[a];\n    })\n}\n\nconst ajv = new Ajv({schemas: GolosSchema, verbose: true});\nconst validate = ajv.getSchema(\"/golos/transaction\");\n\nexport class Transaction {\n    constructor(json) {\n        if(!validate(json)) {\n            \n            throw validate.errors;\n        }\n        this.raw_transaction = [...json];\n        this.ops = [];\n        this.readOps();\n    }\n\n    /**\n     * Вернуть минимальную, требуемую роль\n     */\n    get required_wif() {\n        if(this.ops.length == 0) {\n            return null;\n        }\n        const temp = [];\n        for(let op of this.ops) {\n            temp.push(op.role);\n        }\n        return sort_roles(temp)[0];\n    }\n\n    readOps() {\n        for(let opTuple of this.raw_transaction) {\n            this.ops.push(new Operation(opTuple[0], opTuple[1]));\n        }\n    }\n}\n\nclass Operation {\n    constructor(name, body) {\n        this.name = name;\n        this.body = body;\n\n        for(let op of operations) {\n            if(op.operation === this.name) {\n                this.roles = sort_roles(op.roles);\n            }\n        }\n    }\n\n    get role() {\n        //Вернуть самый слабый ключ \n        return this.roles[0];\n    }\n    \n}\n\n//////////////////////////\n\nfunction test_roles() {\n    console.log(\"TEST\", sort_roles([\"active\", \"owner\", \"posting\"]))\n    console.log(\"TEST\", sort_roles([\"posting\", \"active\", \"owner\"]))\n    console.log(\"TEST\", sort_roles([\"active\", \"owner\"]))\n}\n\n//test_roles();","const golos = require(\"golos-js\");\n\nexport const SIGN_TYPE = {\n    PASSWORD: \"password\",\n    WIF: \"wif\",\n}\n\nconst WEBSOCKET = \"websocket\";\nconst DEFAULT_WS = \"wss://golos.lexa.host/ws\";\n\nexport const NODES = {\n    [DEFAULT_WS] : \"Lex\",\n    \"wss://golos.solox.world/ws\" : \"Solox\",\n    \"wss://api.golos.blckchnd.com/ws\" : \"Blockchained\"\n}\n\nexport function getCurrentSelectedNode() {\n    return localStorage.getItem(WEBSOCKET) || DEFAULT_WS;\n}\n\nexport function setCurrentSelectedNode(ws = DEFAULT_WS) {\n    golos.api.stop();\n    golos.config.set(WEBSOCKET, ws);\n\n    localStorage.setItem(WEBSOCKET, ws);\n}\n\nexport function setupNode() {\n    const ws = getCurrentSelectedNode();\n\n    golos.api.stop();\n    golos.config.set(WEBSOCKET, ws);\n}\n\n/**\n * Подпись и отправка транзакции. Имплементация взята из golos-js.broadcast.send и адаптирована под свои нужды.\n * @param {operation/Transaction} transaction \n * @param {SIGN_TYPE} sign_type \n * @param {string} account \n * @param {string} password \n * @returns \"Возвращает данные о созданной транзакции\"\n */\nasync function signandsend(transaction, sign_type, account, password) {\n\n    setupNode();\n\n    const {raw_transaction, required_wif} = transaction;\n\n    //Получаем ключ из аккаунта и пароля, если передан пароль\n    const wif = getWif(sign_type, account, password, required_wif);\n\n    //Формируем объект транзакции и объект с ключем\n    const tx = {extensions: [], operations: raw_transaction}; \n    const key = {[required_wif]: wif};\n\n    //Подготавливаем транзакцию используя метод библиотеки. Получаем блок референсный блок, выставляем expiration.\n    const prepared_tx = await golos.broadcast._prepareTransaction(tx);\n    \n    //Подписываем транзакцию ключем\n    const signed_tx = golos.auth.signTransaction(prepared_tx, key);\n\n    //Отправляем транзакцию ноде и в ответ получаем ID транзакции и блок.\n    let ret = await golos.api.broadcastTransactionSynchronousAsync(signed_tx);\n    return ret;\n}\n\n/**\n * Генерирует из имени аккаунта и мастер-пароля ключ нужного уровня доступа. \n * Или возвращает пароль как есть, в надежде, что это приватный ключ.\n * @param {SIGN_TYPE} sign_type - Тип подписи. Аккаунт + пароль или приыватный ключ.\n * @param {string} account - Аккаунт голос\n * @param {string} password - Пароль или приватный ключ\n * @param {string} required_wif - Требуемый уровень доступа - owner, active, posting или memo\n * @returns \"Возвращает необходимый для подписи ключ.\"\n */\nfunction getWif(sign_type, account, password, required_wif) {\n    switch(sign_type) {\n        case SIGN_TYPE.PASSWORD:\n            const wifs = golos.auth.getPrivateKeys(account, password, [required_wif]);\n            return wifs[required_wif];\n        default:\n            return password;\n    }\n}\n\n/**\n * Проверяет, существует ли аккаунт с таким именем. Для этого пробует загрузить данные аккаунта.\n * @param {string} account \n * @returns Возвращет текст с сообщением об ошибке.\n */\nexport async function checkAccount(account) {\n    if(!account) {\n        return \"Аккаунт обязателен для аутентификации паролем\";\n    }\n    const [acc] = await golos.api.getAccountsAsync([account]);\n    if(!acc) {\n        return \"Аккаунт с таким именем не существует!\";\n    }\n    return null;\n}\n\nexport default signandsend;\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst ERROR_DESC = {\n    \"Expected version\": \"Вероятно введенный ключ не является приватным ключем, неверный формат, пропущенный знак\",\n    \"3020100\": \"Введенный ключ либо недостаточного уровня либо отсутствует в ауторити пользователя, неверный пароль\",\n    \"2020000\": \"Недостаточно средств на счету пользователя\",\n    \"3080000\": \"Повторная транзакция с такими же параметрами в блоке\",\n    \"2030000\": \"Ошибка в операции с указанным индексом\",\n    \"1020400\": \"Неверное переданное значение\",\n    \"4020100\": \"Значение находится вне заданных пределов\",\n    \"3010000\": \"Ошибочная операция в транзакции\",\n}\n\nfunction getDesc(msg) {\n    for(let pattern in ERROR_DESC) {\n        if(msg.match(pattern)) {\n            return ERROR_DESC[pattern];\n        }\n    }\n    return null;\n}\n\nexport class SignErrorsView extends Component {\n    static propTypes = {\n        error: PropTypes.object,\n        result: PropTypes.object,\n        redirect: PropTypes.string,\n    }\n\n    extractErrorMessage() {\n        const error = this.props.error;\n        console.log(\"error\", error);\n        let ret = [<h4 key=\"head\">Ошибка отправки транзакции</h4>];\n        if(error.message) {\n            let arr = error.message.split(\"\\n\");\n            for(let i = 0; i < arr.length; i++) {\n                if(arr[i] && !arr[i].match(/for the full error payload/)) {\n                    ret.push(<p key=\"error-text\" className=\"mb-0\">{arr[i]}</p>);\n                    const desc = getDesc(arr[i]);\n                    if(desc) {\n                        ret.push(<small key=\"error-desc\" className=\"mb-0\">{desc}</small>);\n                    }                    \n                }\n            }\n        }\n\n        return ret;\n    }\n\n    extractUsefulInfos() {\n        console.log(\"ret\", this.props.result);\n        return <div>\n            <h4>Отправлено!</h4>\n                <p className=\"mb-0\">Номер блока: {this.props.result.block_num}</p>\n                <p className=\"mb-0\">ID транзакции: {this.props.result.id}</p>\n                {this.props.redirect && <p className=\"mt-2\">Вы будете автоматически перенаправлены на адрес <strong>{this.props.redirect}</strong>...</p>\n                }\n            </div>;\n    }\n\n    render() {\n        const isError = !!this.props.error;\n        const alert = isError? \"danger\" : \"success\"\n        const message = isError?this.extractErrorMessage():this.extractUsefulInfos();\n        return (\n            <div className={\"mt-5 mb-5 alert alert-\"+ alert} role=\"alert\">\n                {message}\n            </div>\n        )\n    }\n}\n\nexport default SignErrorsView\n","import React from 'react'\nimport {SIGN_TYPE} from \"../service/sign\";\nimport {getCurrentSelectedNode, setCurrentSelectedNode, NODES} from \"../service/sign\";\n\nconst NodeSelector = (props) => {\n\n    const current_ws = getCurrentSelectedNode();\n\n    return (\n        <div className=\"form-group  input-group-sm\">\n            <label for=\"selectNode\">Нода</label>\n            <select className=\"form-control\" id=\"selectNode\" onChange={(v => setCurrentSelectedNode(v.target.value))}>\n                {Object.keys(NODES).map(ws => (\n                    <option value={ws}  selected={ws === current_ws}>{NODES[ws]}</option>\n                ))}\n            </select>                  \n        </div>\n    );\n}\n\nfunction translate_role(role) {\n    console.log(\"translate role\", role);\n    switch(role) {\n        case \"owner\": return \"приватный ключ владельца\"; \n        case \"active\": return \"приватный, активный ключ\"; \n        case \"posting\": return \"приватный, постинг ключ\"; \n        case \"memo\": return \"приватный, ключ для заметок\"; \n        default:\n            return null;\n    }\n}\n\nexport const WifInput = (props) => {\n    const wif_class = (props.wif_error?\" is-invalid\":\"\");\n    return (\n        <input id={props.id} name={props.id}\n            value={props.wif}\n            onChange={(ev) => props.onChange(\"wif\", ev.target.value)}\n            type=\"password\"\n            className={\"form-control\" + wif_class}\n            aria-describedby=\"wif-help\"\n            required />\n    );\n}\n\n\nexport const TabButton = (props) => {\n    const { active } = props;\n    const active_class = active ? \" active \" : \"\";\n    return (\n        <li className=\"nav-item\">\n            <button className={\"btn nav-link \" + active_class} onClick={props.selectForm}>{props.label}</button>\n        </li>\n    )\n}\n\nexport const SignButton = (props) => {\n    return (\n        <div className=\"form-group input-group-sm\">\n            <button type=\"button\" id=\"sign-botton\" className=\"btn btn-primary\" onClick={props.onSign}>Отправить</button>\n        </div>\n    )\n}\n\nexport const FormWif = (props) => {\n    const {transaction, form_class, wif_error} = props;\n    return (\n        <form id=\"sign-form\" className={form_class}>\n            <NodeSelector />\n            <div className=\"form-group input-group-sm\">\n                <label htmlFor=\"wif\">Приватный ключ</label>\n\n                <WifInput id=\"wif\" {...props} />\n\n                <small id=\"wif-help\" className=\"form-text text-muted\">Для подписи транзакции требуется как минимум <strong>{translate_role(transaction.required_wif)}</strong></small>\n                <div className=\"invalid-feedback\">{wif_error}</div>\n            </div>\n            <SignButton  {...props} />\n        </form>\n    )\n}\n\nexport const FormAccountAndPasswort = (props) => {\n    const {form_class, onChange, account, account_error, wif_error} = props;\n    const account_class = (account_error?\" is-invalid\":\"\");\n    return (\n        <form id=\"sign-form\" className={form_class}>\n            <NodeSelector />\n            <div className=\"form-group input-group-sm\">\n                <label htmlFor=\"account\">Имя пользователя</label>\n\n                <input\n                    id=\"account\"\n                    name=\"account\"\n                    value={account}\n                    onChange={(ev) => onChange(\"account\", ev.target.value)}\n                    type=\"text\"\n                    className={\"form-control\" + account_class}\n                    placeholder=\"Аккаунт в блокчейне golos\"\n                    required />\n\n                <div className=\"invalid-feedback\">{account_error}</div>\n            </div>\n            <div className=\"form-group input-group-sm\">\n                <label htmlFor=\"wif\">Пароль</label>\n\n                <WifInput id=\"password\" {...props} />\n\n                <div className=\"invalid-feedback\">{wif_error}</div>\n            </div>\n\n            <SignButton  {...props}/>\n        </form>\n    )\n}\n\nexport const FormSelector = (props) => {\n\n    switch (props.sign_type) {\n        case SIGN_TYPE.WIF:\n            return <FormWif {...props} />;\n        default:\n            return <FormAccountAndPasswort {...props} />;\n    }\n}\n\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Transaction } from \"../service/operation\";\nimport signandsend, {SIGN_TYPE, checkAccount} from \"../service/sign\";\nimport SignErrorsView from './SignErrorsView';\nimport MediaQuery from 'react-responsive';\n\nimport {FormSelector} from \"./SignFormComponents\";\nimport {FaKey, FaUser} from \"react-icons/fa\";\n\nexport class SignForm extends Component {\n\n    static propTypes = {\n        transaction: PropTypes.instanceOf(Transaction).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            wif: \"\",\n            account: props.user || \"\",\n            error: null,\n            result: null,\n            sign_type: SIGN_TYPE.PASSWORD,\n            account_error : null,\n            sending: false,\n            redirect: null,\n        }\n    }\n\n    /**\n     * Собственно отправка транзакции\n     */\n    send() {\n        signandsend(this.props.transaction, this.state.sign_type, this.state.account, this.state.wif)\n            .then(result => this.onSuccess(result))\n            .catch(error => this.setState({ result: null, error, account_error: null, sending: false }));\n        this.setState({sending:true, error: null, result: null});\n    }\n\n    onSuccess(result) {\n        this.setState({ result, error: null, account_error: null, sending: false })\n        this.redirect();\n    }\n\n    redirect() {\n        if(!this.props.redirect) {\n            return;\n        }\n\n        setTimeout(() => {window.location = this.props.redirect}, 5 * 1000);\n    }\n\n    onSign() {\n        //Валидация форм.\n        switch(this.state.sign_type) {\n            case SIGN_TYPE.PASSWORD:\n                    let wif_error = null;\n                    if(!this.state.wif) {\n                        wif_error = \"Пароль обязателен\";\n                    }\n\n                    checkAccount(this.state.account).then(account_error => {\n                    if(account_error || wif_error) {\n                        this.setState({account_error, wif_error});\n                    } else {\n                        //При отсутствии ошибок оправить транзакцию\n                        this.send();\n                    }\n                }).catch(error => {\n                    console.error(\"Ошибка проверки аккаунта\");\n                    this.setState({account_error: \"Не получилось проверить аккаунт\"});\n                })\n\n                break;\n            default:\n                if(!this.state.wif) {\n                    this.setState({wif_error: \"Приватный ключ обязателен\"})\n                    return;\n                }\n                //При отсутствии ошибок оправить транзакцию\n                this.send();\n        }\n    }\n\n    onChange(key, value) {\n        console.log(\"onChange\", key, value)\n        this.setState({[key]:value, wif_error:null, account_error:null});\n    }\n\n    render() {\n        const {nowif, redirect} = this.props;\n        let form_class = \"needs-validation\";\n\n        const TabButton = (props) => {\n            const { sign_type } = props;\n            const active = this.state.sign_type === sign_type ? \" active \" : \"\";\n            return (<li className=\"nav-item\"><button  type=\"button\" className={\"btn btn-block nav-link \" + active} onClick={() => this.setState({ sign_type })}>{props.label}</button></li>)\n        }\n\n        const BottomToggler = (props) => {\n            if(nowif) {\n                const is_pass = this.state.sign_type === SIGN_TYPE.PASSWORD;\n                const icon = is_pass?<FaKey />:<FaUser />;\n                const sign_type =  is_pass?SIGN_TYPE.WIF:SIGN_TYPE.PASSWORD;\n                const title = is_pass?\"Подпись ключом\":\"Подпись паролем\";\n                return <button type=\"button\" title={title} \n                    className=\"btn-outline-primary float-right btn btn-sm btn-primary\" \n                    onClick={() => this.setState({ sign_type })}>{icon}</button>;\n            }\n            return null;\n        }\n\n        return (\n            <div className=\"clearfix border p-2 m-2\">\n                {!nowif && <div className=\" mb-3\">\n                \n                {(!this.state.sending && !this.state.result) && \n                <div>\n                <MediaQuery minWidth={425}>\n                    <ul className=\"nav nav-tabs\">\n                        <TabButton label=\"Подпись паролем\" sign_type={SIGN_TYPE.PASSWORD} />\n                        <TabButton label=\"Подпись ключом\" sign_type={SIGN_TYPE.WIF} />\n                    </ul>\n                </MediaQuery>\n                <MediaQuery maxWidth={420}>\n                    <ul className=\"nav nav-pills nav-justified\">\n                        <TabButton label=\"Подпись паролем\" sign_type={SIGN_TYPE.PASSWORD} />\n                        <TabButton label=\"Подпись ключем\" sign_type={SIGN_TYPE.WIF} />\n                    </ul>\n                </MediaQuery>\n                </div>\n                }\n\n                </div>}\n                \n                {(this.state.error || this.state.result) && <SignErrorsView error={this.state.error} result={this.state.result} redirect={redirect} />}\n                {this.state.sending && <div className={\"mt-5 mb-5 alert alert-warning\"} role=\"alert\">\n                    <h4>Отправка...</h4>\n                    </div>\n                }\n\n                {(!this.state.sending && !this.state.result) && \n                    <FormSelector \n                        onChange={(key,value) => this.onChange(key, value)}\n                        onSign={() => this.onSign()}\n                        form_class={form_class}\n                        {...this.state}\n                        {...this.props}\n                    />\n                }\n                {(!this.state.sending && !this.state.result) &&  <BottomToggler /> }\n            </div>\n        )\n    }\n}\n\nexport default SignForm\n","import React from 'react'\n\nexport function getOpDetails(op) {\n    switch(op.name) {\n        case \"transfer\":\n            return <div className=\"md-2 border-bottom\">\n                <strong>От</strong> {op.body.from}, <strong>Кому</strong> {op.body.to}, <strong>Сумма</strong> {op.body.amount}\n                <br /><strong>Заметка</strong> {(\"\"+op.body.memo || \"\").substring(0, 50)}\n            </div>;\n        default:\n            return <pre>{JSON.stringify(op.body, null, 2)}</pre>;\n    }\n}\n\nconst OP_TRANSLATIONS = {\n    vote: \"Апвоут\", \n    comment: \"Пост/Комментарий\", \n\n    transfer: \"Перевод\", \n    transfer_to_vesting: \"Перевод в СГ\", \n    withdraw_vesting: \"Понижение СГ\", \n\n    limit_order_create: \"Создать ордер\", \n    limit_order_cancel: \"Отменить ордер\", \n\n    feed_publish: \"Опубликовать фид\", \n    convert: \"Конвертировать GBG в GOLOS\", \n\n    account_create: \"Создать аккаунт\", \n    account_update: \"Обновить аккаунт\", \n\n    witness_update: \"Обновить делегата\", \n    account_witness_vote: \"Проголосовать за делегата\", \n    account_witness_proxy: \"Назначить доверенного\", \n\n    pow: \"Proof of Work\", \n\n    custom: \"custom\", \n\n    report_over_production: \"Настучать\", \n\n    delete_comment: \"Удалить пост или комментарий\", \n    custom_json: \"Кастомная операция\", \n    comment_options: \"Настроить пост/комментарий\", \n    set_withdraw_vesting_route: \"Установить путь понижения СГ\", \n    limit_order_create2: \"Создать ордер 2\", \n    challenge_authority: \"challenge_authority\", \n    prove_authority: \"prove_authority\", \n    request_account_recovery: \"request_account_recovery\", \n    recover_account: \"recover_account\", \n    change_recovery_account: \"change_recovery_account\", \n    escrow_transfer: \"escrow_transfer\", \n    escrow_dispute: \"escrow_dispute\", \n    escrow_release: \"escrow_release\", \n    pow2: \"Proof of Work 2\", \n    escrow_approve: \"escrow_approve\", \n    transfer_to_savings: \"Перевести в сейф\", \n    transfer_from_savings: \"Вывести из сейфа\", \n    cancel_transfer_from_savings: \"Отменить вывод из сейфа\", \n    custom_binary: \"Кастомная операция (бин.)\", \n    decline_voting_rights: \"Отказаться от голосования (необратимая операция!)\", \n    reset_account: \"reset_account\", \n    set_reset_account: \"set_reset_account\", \n    delegate_vesting_shares: \"delegate_vesting_shares\", \n    account_create_with_delegation: \"account_create_with_delegation\", \n    account_metadata: \"Обновить профиль\", \n    proposal_create: \"proposal_create\", \n    proposal_update: \"proposal_update\", \n    proposal_delete: \"proposal_delete\", \n    chain_properties_update: \"Обновить параметры сети\", \n    break_free_referral: \"Откупиться\", \n    delegate_vesting_shares_with_interest: \"Делегирование с отчислением процента\", \n    reject_vesting_shares_delegation: \"Отказаться от делегирования\",   \n}\n\nexport function getOpName(op) {\n    let name = OP_TRANSLATIONS[op.name];\n    if(!name) name = op.name;\n\n    return <span className=\"label label-default\">{name}</span>\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Transaction } from \"../service/operation\";\nimport SignForm from './SignForm';\nimport {getOpDetails, getOpName} from \"./OperationDetails\";\n\nexport class TransactionView extends Component {\n    static propTypes = {\n        transaction: PropTypes.instanceOf(Transaction).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n        this.status = {\n\n        }\n    }\n\n    render() {\n\n        return (\n            <div className=\"container\">\n                <div className=\"row \">\n                    <div className=\"col-sm-12\">\n                        <SignForm {...this.props} />\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                    <div className=\" border m-2 p-2\">\n                        <div className=\"alert alert-info\" role=\"alert\">\n                            <h4>Содержимое</h4>\n                        </div>\n\n\n                        <div className=\"container\">\n                                {this.props.transaction.ops.map((op, i) => (\n                                <div className=\"row\" key={i}>\n                                    <div className=\"col-sm-3\"><div className=\"font-weight-bold\">Операция</div>{getOpName(op)}<div><small>{op.name}</small></div></div>\n                                    <div className=\"col-sm-9\"><div className=\"font-weight-bold\">Детальная информация</div>{getOpDetails(op)}</div>\n                                </div>\n                                ))\n                                }\n                        </div>\n                    </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default TransactionView\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nexport class ErrorsView extends Component {\n    static propTypes = {\n        errors: PropTypes.arrayOf(Object).isRequired\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"alert alert-danger\" role=\"alert\">\n                <h4>Полученная на подпись транзакция содержит ошибки</h4>\n                </div>\n                <table className=\"table table-sm\">\n                    <thead>\n                        <tr>\n                            <th>Тип ошибки</th>\n                            <th>Место в данных</th>\n                            <th>Схема</th>\n                            <th>Сообщение</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {this.props.errors.map((e, i) => <tr key={i}>\n                        <td>{e.keyword}</td>\n                        <td>{e.dataPath}</td>\n                        <td>{e.schemaPath}</td>\n                        <td>{e.message}</td>\n                    </tr>)}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}\n\nexport default ErrorsView\n","import queryString from \"query-string\";\nimport React, { Component } from 'react';\nimport './App.css';\n\nimport TransactionView from \"./TransactionView\";\n\nimport \"bootstrap/dist/css/bootstrap.css\"\nimport { Transaction } from \"../service/operation\";\nimport ErrorsView from \"./ErrorsView\";\n\nimport sanatizer from \"@braintree/sanitize-url\";\n\nconst ErrorMessage = (props) => {\n    return (\n        <div className=\"mt-5 mb-5 alert alert-danger\" role=\"alert\">\n            <h4>{props.error}</h4>\n        </div>\n    );\n}\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            transaction: null,\n            errors: null,\n            error: null\n        }\n    }\n\n    componentDidMount() {\n        const params = queryString.parse(window.location.search);\n        const title = (params[\"title\"] || \"Писарь\");\n        const subtitle = (params[\"subtitle\"]);\n        const nowif = Object.keys(params).includes(\"nowif\");\n        const user = params[\"user\"];\n        let redirect = sanatizer.sanitizeUrl(params[\"redirect\"] || \"\");\n\n        if(redirect === \"about:blank\") {\n            redirect = null;\n        }\n\n        let tr = params[\"tr\"];\n        if (!tr) {\n            console.log(\"Не найден URL параметр tr\");\n            this.setState({ title, subtitle, error: \"Вызов без параметров\" });\n            return;\n        }\n\n        try {\n            //Пробуем распарсить json\n            let json = null;\n            try {\n                json = JSON.parse(tr);\n            } catch (error) {\n                console.log(\"not valid json\", tr);\n                this.setState({ title, subtitle, error: \"Переданная транзакция не является валидным JSON\" });\n                return;\n            }\n            //Проверка транзакции на валидность\n            const transaction = new Transaction(json);\n            this.setState({ transaction, title, subtitle, user, nowif, redirect });\n        } catch (errors) {\n            //обнаружены ошибки\n            console.log(\"found errors\", errors)\n            this.setState({ errors });\n        }\n    }\n\n    render() {\n\n        let content = null;\n        if (this.state.transaction) {\n            content = <TransactionView redirect={this.state.redirect} nowif={this.state.nowif} user={this.state.user} transaction={this.state.transaction} />\n        } else if (this.state.error) {\n            content = <ErrorMessage error={this.state.error} />\n        } else if (this.state.errors) {\n            content = <ErrorsView errors={this.state.errors} />\n        }\n\n        return (\n            <div className=\"container App\">\n                {<div className=\"row\">\n                    <div className=\"col-sm-12\">\n                        <nav className=\"navbar navbar-expand-lg navbar-light\" >\n                            <div className=\"mr-auto\">\n                                <h3>{this.state.title}</h3>\n                                {this.state.subtitle && <h5>{this.state.subtitle}</h5>}\n                                <br /><small>Подпись транзакции GOLOS\n                                <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"http://golos.io/@ropox/sign\">&nbsp;<span className=\"rounded-circle bg-info text-white font-weight-bold\">&nbsp;?&nbsp;</span></a></small>\n                            </div>\n                        </nav>\n                    </div>\n            </div>}\n                <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                        {content}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nimport {setupNode} from \"./service/sign\";\n\n//in library actually is wss://ws.golos.io, therefore setup previosly selected node, or default \nsetupNode();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}